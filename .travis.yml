language: python
sudo: true

env:

before_install:
  - # Do nothing.
  - .source .travis/install_luarocks.sh

install:
  - # Do nothing. 
  - sudo luarocks install luacov-coveralls

script:
  /bin/sh .travis/check_lua.sh ${TRAVIS_BUILD_DIR}/check.sh

after_success:
  - luacov-coveralls

branches:
  except:
    - gh-pages

notifications:
  email:
    on_success: change
    on_failure: alway
